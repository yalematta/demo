var squaresjs=function(e,t,n){
	that=this;
	this.canvas=document.getElementById("canvas");
	this.ctx=this.canvas.getContext("2d");
	this.width=e;
	this.height=t;
	this.cellWidth=n;
	that.rendering=0;
	
	this.drawSquare=function(e){
		var t=50;
		var n=(0-e.r)/t;
		var r=(0-e.g)/t;
		var i=(0-e.b)/t;
		that.rendering++;
		var s=0;
		
		var o=setInterval(function(){
			that.ctx.fillStyle="rgb("+Math.round(e.r+n*s)+","+Math.round(e.g+r*s)+","+Math.round(e.b+i*s)+")";
			that.ctx.fillRect(e.x*that.cellWidth,e.y*that.cellWidth,that.cellWidth,that.cellWidth);
			s++;

		},30)
	};
	
	this.createSquares=function(e){
		var t,n,r;
		for(var i=0;i<e;i++){
			var s={x:Math.round(Math.random()*(that.width-that.cellWidth)/that.cellWidth),y:Math.round(Math.random()*(that.height-that.cellWidth)/that.cellWidth),r:Math.round(Math.random()*255),g:Math.round(Math.random()*255),b:Math.round(Math.random()*255)};
			that.drawSquare(s)
		}
	};
	
	that.clearCanvas=function(){
		that.ctx.fillStyle="white";
		that.ctx.fillRect(0,0,that.width,that.height)
	};
	
	this.draw=function(){
		function e(e){
			var t,n;
			if(e.targetTouches!=undefined){
				t=Math.round(e.targetTouches[0].pageX/10)*10;n=Math.round(e.targetTouches[0].pageY/10)*10
			}
			else{
				t=Math.round(e.pageX/10)*10;n=Math.round(e.pageY/10)*10
			}
			var r={x:Math.round(Math.random()*(that.width-that.cellWidth)/that.cellWidth),y:Math.round(Math.random()*(that.height-that.cellWidth)/that.cellWidth),r:Math.round(0*255),g:Math.round(0*255),b:Math.round(0*255)};
			that.drawSquare(r)
		}
		
		that.canvas.addEventListener("mousemove",e,false);
		that.canvas.addEventListener("touchstart",e,false);
		that.canvas.addEventListener("touchmove",e,false)};

		loop=setInterval(that.draw,2500)
	}